# ğŸ§­ Chrome 134 æ›´æ–°ãƒã‚§ãƒƒã‚¯ï¼ˆStableï¼‹ã‚³ãƒ¼ãƒ‰ã‚µãƒ³ãƒ—ãƒ«ä»˜ãï¼‰

- ãƒªãƒªãƒ¼ã‚¹æ—¥: 2025-03-04ï¼ˆStableï¼‰
- ä¸€æ¬¡æƒ…å ±:
  - Release Notes: https://developer.chrome.com/release-notes/134?hl=ja
  - New in Chrome 134: https://developer.chrome.com/blog/new-in-chrome-134
  - New in DevTools 134: https://developer.chrome.com/blog/new-in-devtools-134
  - New in WebGPU 134: https://developer.chrome.com/blog/new-in-webgpu-134
  - ChromeStatus Roadmap: https://chromestatus.com/roadmap
  - MDN / Can I use: https://developer.mozilla.org/ja/docs/Web / https://caniuse.com/
  - Baseline: https://web.dev/baseline

---

## ğŸ”¹ å…¨ä½“ã‚µãƒãƒª
- HTML/UI: **`<dialog>` ã®ãƒ©ã‚¤ãƒˆãƒ‡ã‚£ã‚¹ãƒŸã‚¹ï¼ˆ`closedby`ï¼‰**ã€**ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãª `<select>`ï¼ˆ`appearance: base-select`ï¼‰**ã€**PWA Link Capture**
- CSS/UI: **`dynamic-range-limit`**ï¼ˆHDRã®æœ€å¤§è¼åº¦åˆ¶å¾¡ï¼‰ã»ã‹
- Web API: **Shared Storage Ã— Web Locks**ï¼ˆ`withLock` / `batchUpdate()` / worklet ã§ `navigator.locks.request`ï¼‰ã€**Canvas Paint ã§ `imageSmoothingQuality`**
- DevTools: **Privacy and security ãƒ‘ãƒãƒ«**ã€**Calibrated CPU throttling**ã€**Forced reflow / Optimize DOM size ã‚¤ãƒ³ã‚µã‚¤ãƒˆ**ã€**`console.timeStamp()` ã«ã‚ˆã‚‹ãƒˆãƒ¬ãƒ¼ã‚¹æ‹¡å¼µ**
- WebGPU: **subgroupsï¼ˆSIMD ãƒ¬ãƒ™ãƒ«ä¸¦åˆ—ï¼‰** ã®ä¸€èˆ¬æä¾›ã€Dawn æ›´æ–° ã»ã‹

### ğŸš¨ é‡è¦åº¦ã®é«˜ã„ã‚‚ã®
- **`<dialog closedby>`** ã«ã‚ˆã‚‹ãƒ©ã‚¤ãƒˆãƒ‡ã‚£ã‚¹ãƒŸã‚¹åˆ†å²ï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ«æŒ™å‹•ã®è¨­è¨ˆãŒç´ ç›´ã«ï¼‰
- **ã‚«ã‚¹ã‚¿ãƒ  `<select>`**ï¼ˆ`appearance: base-select` ã¨ãƒ‘ãƒ¼ã‚µç·©å’Œï¼‰ã§ãƒªãƒƒãƒãªé¸æŠUI
- **Shared Storage ã« Web Locks**ï¼ˆæ•´åˆæ€§ã‚’ä¿ã£ãŸåŸå­çš„æ›´æ–°/é‡è¤‡é›†è¨ˆã®æŠ‘æ­¢ï¼‰
- **DevTools ã®æ€§èƒ½ã‚¤ãƒ³ã‚µã‚¤ãƒˆ**ï¼ˆå¼·åˆ¶ãƒªãƒ•ãƒ­ãƒ¼/DOMã‚µã‚¤ã‚ºï¼‰ã§ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ç‰¹å®šã‚’é«˜é€ŸåŒ–
- **WebGPU subgroups** ã«ã‚ˆã‚‹ ML/æ˜ åƒå‡¦ç†ã®é«˜é€ŸåŒ–ä½™åœ°

---

# ğŸ§­ Chrome 134 æ–°ç”¨èªãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ï¼ˆGlossaryï¼‰

> æœ¬Glossaryã¯ **docs/chrome-134-2025-03-04.md** ã®ã€Œå…¨ä½“ã‚µãƒãƒªã€ã®ç›´å¾Œã«æŒ¿å…¥äºˆå®šã®å†…å®¹ã§ã™ï¼ˆPRå‰ã®æº–å‚™ç‰ˆï¼‰ã€‚

| ç”¨èª | æ¦‚è¦ | é–¢é€£é ˜åŸŸ |
|------|------|-----------|
| **`<dialog closedby>`** | `closedby="none\|closerequest\|any"` ã§ãƒ©ã‚¤ãƒˆãƒ‡ã‚£ã‚¹ãƒŸã‚¹æŒ™å‹•ã‚’åˆ¶å¾¡ã€‚`any` ã§å¤–å´ã‚¯ãƒªãƒƒã‚¯ãƒ»ESC ã§é–‰ã˜ã‚‹ã€‚ | HTML / UX |
| **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãª `<select>`** | `appearance: base-select` ã§ opt-in ã—ã€`<option>` å†…ã«ç”»åƒãªã©è¿½åŠ è¦ç´ ã‚’é…ç½®å¯èƒ½ã€‚ãƒªãƒƒãƒãªé¸æŠ UI ã‚’å®Ÿç¾ã€‚ | HTML / CSS |
| **SelectParserRelaxation** | `<select>` å†…ã®è¿½åŠ ã‚¿ã‚°ã‚’è¨±å®¹ã™ã‚‹ä¸€æ™‚ç§»è¡Œãƒãƒªã‚·ãƒ¼ã€‚Chrome 141 ã§çµ‚äº†äºˆå®šã€‚ | HTML / ãƒãƒªã‚·ãƒ¼ |
| **Shared Storage Ã— Web Locks** | Shared Storage ã® worklet å†…ã§ `navigator.locks.request` åˆ©ç”¨å¯èƒ½ã€‚`withLock` / `batchUpdate()` ã§åŸå­çš„æ›´æ–°ã€‚ | Web API / ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ |
| **`imageSmoothingQuality`** | Canvas 2D ã§ç”»åƒæ‹¡ç¸®æ™‚ã®å“è³ªã‚’ `'low'\|'medium'\|'high'` ã§æŒ‡å®šã€‚ | Canvas / ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ |
| **PWA Link Capture** | manifest ã® `capture_links: "new-client"` ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ PWA ã¸ã®ãƒªãƒ³ã‚¯ã‚­ãƒ£ãƒ—ãƒãƒ£ã‚’åˆ¶å¾¡ã€‚ | PWA / UX |
| **`dynamic-range-limit`** | HDR ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã®æœ€å¤§è¼åº¦ã‚’åˆ¶å¾¡ã€‚`@media (dynamic-range: high)` å†…ã§ç™½é£›ã³å›é¿ã€‚ | CSS / HDR |
| **WebGPU subgroups** | SIMD ãƒ¬ãƒ™ãƒ«ã®é›†å›£æ¼”ç®—ã€‚`adapter.features.has('subgroups')` ã§æ¤œå‡ºã— ML/æ˜ åƒå‡¦ç†ã‚’é«˜é€ŸåŒ–ã€‚ | WebGPU / ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ |
| **`console.timeStamp()`** | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¹ã«è»½é‡ãƒãƒ¼ã‚«ãƒ¼ã‚’æ³¨å…¥ã€‚DevTools ã® Performance ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã«ç‹¬è‡ªãƒ©ãƒ™ãƒ«ã‚’è¿½åŠ ã€‚ | DevTools / ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ |
| **Baseline** | æ¨ªæ–­çš„ãªå®Ÿè£…ãƒ»å®‰å®šåŒ–ãŒé€²ã‚“ã æ©Ÿèƒ½ç¾¤ã®åˆæ„ç‚¹ã€‚å°å…¥åˆ¤æ–­ã‚’ç°¡ç´ åŒ–ã€‚ | äº’æ›æ€§ |
| **Origin Trial (OT)** | æœŸé™ä»˜ãå®Ÿé¨“ã€‚ãƒˆãƒ¼ã‚¯ãƒ³é…å¸ƒã§å®Ÿä½¿ç”¨ä¸‹ã®è©•ä¾¡ã‚’å¯èƒ½ã«ã€‚ | å®Ÿé¨“æ©Ÿèƒ½ |

---

## ğŸ§© HTML

### 1) `<dialog>` ãƒ©ã‚¤ãƒˆãƒ‡ã‚£ã‚¹ãƒŸã‚¹ï¼ˆ`closedby`ï¼‰
```html
<dialog id="dlg" closedby="any">
  <form method="dialog">
    <p>è¨­å®šã‚’ä¿å­˜ã—ã¾ã™ã‹ï¼Ÿ</p>
    <button value="cancel">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
    <button value="ok">OK</button>
  </form>
</dialog>

<script>
  // closedby=none | closerequest | any
  // any: å¤–å´ã‚¯ãƒªãƒƒã‚¯ or ESC ã§é–‰ã˜ã‚‹ï¼ˆPopoverã® light-dismiss ç›¸å½“ï¼‰
  dlg.showModal();
  dlg.addEventListener('close', () => {
    console.log('result:', dlg.returnValue);
  });
</script>
```

### 2) ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãª `<select>`ï¼ˆ`appearance: base-select`ï¼‰
```html
<label>ã‚¢ãƒã‚¿ãƒ¼ã‚’é¸æŠ
  <select id="avatar" class="base">
    <option value="cat"><img src="/img/cat.png" alt=""> ã­ã“</option>
    <option value="dog"><img src="/img/dog.png" alt=""> ã„ã¬</option>
  </select>
</label>

<style>
  .base {
    appearance: base-select; /* â† 134 ã§ã®æ–°æŒ™å‹•ã« opt-in */
    inline-size: 18rem;
  }
  /* option å†…ã®ç”»åƒã‚„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’è‡ªç”±ã« */
  option { display: grid; grid-template-columns: 1.5rem 1fr; gap: .5rem; align-items: center; }
  option > img { inline-size: 1.5rem; block-size: 1.5rem; }
</style>
```
> â€» ä¸€æ™‚ç§»è¡Œãƒãƒªã‚·ãƒ¼ `SelectParserRelaxationEnabled` ã«ã‚ˆã‚Šã€`<select>` å†…ã«è¿½åŠ ã‚¿ã‚°ã‚’è¨±å®¹ã€‚å°†æ¥ Chrome 141 ã§ç„¡åŠ¹åŒ–äºˆå®šã€‚

---

## ğŸ¨ CSS / UI

### `dynamic-range-limit`ï¼ˆHDR æœ€å¤§è¼åº¦ã®ä¸Šé™ï¼‰
```css
@media (dynamic-range: high) {
  video, canvas {
    dynamic-range-limit: 800nits; /* ç«¯æœ«ã®ãƒ”ãƒ¼ã‚¯è¼åº¦ã‚’æŠ‘ãˆã¦ç™½é£›ã³å›é¿ */
  }
}
```

---

## âš™ï¸ JavaScript / Web API

### 1) Shared Storage Ã— Web Locksï¼ˆåŸå­çš„æ›´æ–°ï¼‰
```js
// worklet å´ï¼ˆshared-storage-worklet.jsï¼‰
// navigator.locks.request ãŒåˆ©ç”¨å¯èƒ½ã«ãªã‚Šã€
// withLock ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚„ batchUpdate() ã§æ•´åˆæ€§ã®ã‚ã‚‹æ›´æ–°ãŒå¯èƒ½ã€‚

registerProcessor('counter', class {
  async run() {
    await navigator.locks.request('reach-metrics', async () => {
      await sharedStorage.batchUpdate([
        ['add', 'impressions', 1],
        ['set', 'lastUpdate', Date.now()]
      ], { withLock: 'reach-metrics' });
    });
  }
});
```

### 2) Canvas Paint ã® `imageSmoothingQuality`
```js
const c = document.querySelector('canvas');
const ctx = c.getContext('2d', { alpha: false });
ctx.imageSmoothingEnabled = true;
ctx.imageSmoothingQuality = 'high'; // 'low' | 'medium' | 'high'
ctx.drawImage(sourceImage, 0, 0, c.width, c.height);
```

### 3) PWA Link Captureï¼ˆãƒ–ãƒ©ã‚¦ã‚¶â†”ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿Webã‚¢ãƒ—ãƒªã®ç§»å‹•ã‚’å®¹æ˜“ã«ï¼‰
```json
// web-app-manifest ã®ä¾‹ï¼ˆæŠœç²‹ï¼‰
{
  "capture_links": "new-client"
}
```

---

## ğŸ§  AI in Chrome
- ï¼ˆ134æ™‚ç‚¹ï¼‰ãƒ–ãƒ©ã‚¦ã‚¶å†…ã®AI APIã®æ–°è¦ãƒ¡ã‚¸ãƒ£ãƒ¼è¿½åŠ ã¯ç›®ç«‹ãŸãšã€‚
- é–‹ç™ºä½“é¨“ã¯ DevTools çµ±åˆï¼ˆä¸‹è¨˜ï¼‰ã§å¼·åŒ–ã€‚

---

## ğŸ§° DevTools
- **Privacy and security ãƒ‘ãƒãƒ«**ï¼ˆæ—§ Security ã‚’åˆ·æ–°ï¼‰
- **Calibrated CPU throttling**ï¼ˆç«¯æœ«ã”ã¨ã®å®Ÿæ¸¬ãƒ™ãƒ¼ã‚¹ã§ä½/ä¸­ç´šæ©Ÿã‚’è¿‘ä¼¼ï¼‰
- **Insights** ã« **Forced reflow / Optimize DOM size** ã‚’è¿½åŠ 
- **`console.timeStamp()` å¯¾å¿œ**ã§ç‹¬è‡ªãƒãƒ¼ã‚«ãƒ¼ã‚’è»½é‡ã«è¨˜éŒ²

```js
// ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¹ã«è»½é‡ãƒãƒ¼ã‚«ãƒ¼ã‚’æ³¨å…¥
console.timeStamp('app:boot');
// ... åˆæœŸåŒ–å‡¦ç† ...
console.timeStamp('app:boot:done');
```

---

## ğŸŒ Web APIï¼ˆãã®ä»–ï¼‰

### `<select>` ãƒ‘ãƒ¼ã‚µç·©å’Œï¼ˆä¸€æ™‚ãƒãƒªã‚·ãƒ¼ï¼‰
- è¿½åŠ ã‚¿ã‚°ï¼ˆç”»åƒãªã©ï¼‰ã‚’ `<select>` å†…ã§è¨±å®¹ã™ã‚‹ç§»è¡Œæªç½®ã€‚
- ç®¡ç†ãƒãƒªã‚·ãƒ¼: `SelectParserRelaxationEnabled`ï¼ˆ**Chrome 141 ã§çµ‚äº†äºˆå®š**ï¼‰ã€‚

---

## ğŸ§¾ WebGPU
- **subgroups**ï¼ˆSIMD ãƒ¬ãƒ™ãƒ«é›†å›£æ¼”ç®—ï¼‰ã§ ML/ãƒ¡ãƒ‡ã‚£ã‚¢ã®é«˜é€ŸåŒ–ä½™åœ°ã€‚

```js
const adapter = await navigator.gpu.requestAdapter();
if (adapter.features.has('subgroups')) {
  const device = await adapter.requestDevice({ requiredFeatures: ['subgroups'] });
  const info = adapter.info;
  console.log('subgroup sizes', info.subgroupMinSize, info.subgroupMaxSize);
}
```

---

### å°å…¥æŒ‡é‡ãƒ¡ãƒ¢
- **ãƒ•ã‚©ãƒ¼ãƒ UI**: `<dialog closedby>` / ã‚«ã‚¹ã‚¿ãƒ  `<select>` ã‚’æ®µéšå°å…¥ï¼ˆã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã¨å›å¾©æ€§ã«ç•™æ„ï¼‰
- **è¨ˆæ¸¬/é›†è¨ˆ**: Shared Storage æ›´æ–°ç³»ã¯ **withLock + batchUpdate** å‰æã«è¦‹ç›´ã—
- **æç”»**: ã‚­ãƒ£ãƒ³ãƒã‚¹æ‹¡ç¸®å“è³ªã¯ `imageSmoothingQuality` ã§åˆ¶å¾¡
- **æ€§èƒ½è§£æ**: DevTools ã®æ–°ã‚¤ãƒ³ã‚µã‚¤ãƒˆã¨ `console.timeStamp()` ã®æ´»ç”¨ã‚’æ¨™æº–æ‰‹é †ã«
- **GPU**: `subgroups` åˆ©ç”¨å¯å¦ã‚’å‹•çš„ã«åˆ†å²ã—ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’ç”¨æ„
